아이템 1.도커란 무엇인가?
=========================
### 도커는 데이터 또는 프로그램을 격리시키는 기능을 제공한다.
도커를 한마디로 정의하자면 '데이터 또는 프로그램을 격리시키는 기능'을 제공하는 소프트웨어라고 할 수 있다.
커
이 기능은 주로 서버에 사용된다. 클라이언트 컴퓨터에서도 사용할 수 있지만 현 시점에서는 서버에서 사용하는 것이 주 용도다.

도커는 다양한 프로그램과 데이터를 각각 독립된 환경에 격리하는 기능을 제공한다. 그것도 운영체제 통째로 격리하는 기능이다.

### 컨테이너와 도커 엔진
조립형 창고를 컨테이너라고 한다. 그리고 이 컨테이너를 다루는 기능을 제공하는 소프트웨어가 도커다.

도커를 사용하려면 도커 소프트웨어의 본체인 도커 엔진을 설치해야 한다. 그리고 도커 엔진을 사용해 컨테이너를 생성하고 구동시킬 수 있다.

### 컨테이너를 만들려면 이미지가 필요하다.
도커 엔진이 있어야 컨테이너를 만들 수 있다고 설명했다. 그러나 컨테이너를 만들려면 도커 엔진 외에도 컨테이너의 빵틀과도 같은 역할을 할 이미지가 필요하다.

이미지는 종류가 아주 많다. 담고 있는 소프트웨어의 종류에 따라 다양한 이미지를 사용한다.

컨테이너는 여러 개를 만들 수도 있다. 용량이 허락하는 한 하나의 도커에서 여러 개를 만들 수 있다.

#### 도커 이미지란?
어플리케이션 실행에 필요한 독립적인 환경을 포함하며, 런타임 환경을 위한 일종의 템플릿이다. 이미지에는 애플리케이션을 실행하는 데 필요한 모든 파일, 라이브러리, 의존성, 설정, 그리고 애플리케이션의 소스 코드가 포함되어 있다.

> 우리 서버의 이미지는 빌드 될 때 생성되어 ECR(Elastic Container Registry)에 PUSH된다.

### 도커는 리눅스 컴퓨터에서 사용한다.
도커를 사용하는 데는 몇 가지 세약 사항이 있다.

우선 종류와 상관없이 리눅스 운영체제가 필요하다. 윈도우나 macOS에서도 도커를 구동할 수 있지만 이 경우 내부적으로 리눅스가 사용된다.

또, 컨테이너에서 동작시킬 프로그램도 리눅스용 프로그램이다. 이는 도커가 리눅스 운영체제에서 사용하는 것을 전제로 만들어졌기 때문이다.

### 데이터나 프로그램을 독립된 환경에 격리해야 하는 이유
대부분의 프로그램은 단독으로 동작하는 것이 아니라 어떤 실행 환경이나 라이브러리, 다른 프로그램을 이용해 동작한다.

소프트웨어 역시 단일 프로그램이 아니라 여러 개의 프로그램으로 구성된 경우가 많다. 또한 다른 프로그램과 특정한 폴더 또는 디렉터리르 공유하거나 같은 경로에 설정 정보를 저장하는 경우도 있다.
이 때문에 프로그램 하나를 업데이트하면 다른 프로그램에도 영향을 미치게 된다.

공통으로 함께 연동되는 소프트웨어를 예로 들었지만 실행 환경이나 라이브러리, 디렉터리나 설정 파일에서도 같은 일이 일어날 수 있다. 공유하는 대상을 어느 한쪽만을 위해 수정하면 다른 쪽에서 오류가 바발생하게 된다.

서버에서는 여러 프로그램이 함께 동작하므로 서버를 처음 구축할 때부터 신중하게 따져보지 않으면 안된다. 설계할 때는 문제가 없었던 프로그램끼리도 실제로 설치해보면 오류를 일으키는 경우도 있다.
이러한 문제의 원인은 대부분 프로그램 간 공유에 있다.

### 프로그램의 격리란?
도커 컨테이너는 다른 컨테이너와 완전히 분리된 환경이라고 설명했다. 즉, 컨테이너 안에 들어있는 프로그램은 다른 프로그램과 격리된 상태가 된다.

도커 컨테이너를 사용해 프로그램을 격리하면 여러 프로그램이 한 서버에서 실행되면서 발생하는 문제를 대부분 해결할 수 있다.

도커 컨테이너는 완전히 독립된 환경이므로 여러 컨테이너에서 같은 프로그램을 실행할 수 있다. 버전이 완전히 동일해도 상관없다.


### 도커의 장단점
#### 장점
- 이식성: 어디서나 동일한 환경에서 애플리케이션을 실행할 수 있어 배포와 테스트 환경이 일관됩니다.
- 경량화: 컨테이너는 운영체제를 포함하지 않으므로, 리소스 소모가 적고 빠르게 실행됩니다.
- 빠른 배포: 컨테이너는 이미지를 기반으로 즉시 생성되어, 애플리케이션을 빠르게 배포하고 확장할 수 있습니다.
#### 단점
- 운영 복잡성: 여러 컨테이너를 관리하기 위해 Kubernetes나 오케스트레이션 도구가 필요해 운영이 복잡해질 수 있습니다.
- 보안 문제: 컨테이너는 호스트 커널을 공유하므로, 설정이 잘못되면 보안 위협에 노출될 수 있습니다.
- 윈도우 지원 제한: 도커는 리눅스에 최적화되어 있으며, 윈도우 환경에서는 기능적 제한이 있을 수 있습니다.

### 도커 대체 기술
|대체 기술|특징|장점|단점|
|---|---|---|--|
|가상 머신(VM)|하이퍼바이저 기반의 전체 운영체제 가상화|자원 격리와 보안성이 뛰어남, 운영체제를 포함한 환경|무겁고 리소스 소모가 큼, 부팅 속도가 느림|
|Podman|도커와 유사하지만 데몬 없이 작동|데몬리스 작동으로 더 안전하고 가벼움, 루트 없이 실행 가능|도커만큼 생태계 지원이 풍부하지 않음|
|LXC/LXD|리눅스 기반의 낮은 수준의 컨테이너 가상화 도구|전체 운영체제 가상화 지원, 더 강력한 자원 격리|도커보다 설정과 관리가 복잡함|
